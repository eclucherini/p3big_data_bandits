<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Head content remains the same -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>New York City AirBnb Analysis</title>
  <link rel = "stylesheet" type = "text/css" href="/css/style.css">
</head>

<body>

  <!-- Upper half of the webpage -->
  <div class="container">
    <div class="row">
      <div class="col-md-12 jumbotron text-center">
        <h1>Big Data Bandits Explore NYC AirBnBs</h1>
        <br>
        <h3>Rutva Korat, Elena Lucherini, Andrea Paredes, Adam Nguyen</h3>
        <br>
        <h4>Use the links below to explore different analyses and interactive charts</h4>
      </div>
    </div>

    <!-- Links to select charts -->
    <div class="row">
      <div class="col-md-12 text-center">
        <!-- Replace the <select> element with anchor tags -->
        <a href="Resources/EL/el_combined.html" id="propertyAnalysisLink">Property Analysis</a>
        <a href="Resources/AP/APcombined.html" id="reviewsAnalysisLink">Host Analysis</a>
        <a href="Resources/RK/RK_index.html" id="reviewsAnalysisLink">Pricing Analysis</a>
        <a href="Resources/AN/combinedAN%20copy.html" id="reviewsAnalysisLink">Review Analysis</a>
        <!-- Add more links for other charts if needed -->
      </div>
    </div>
  </div>

  <!-- Lower half of the webpage -->
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12" id="chartContainer">
        <!-- The content will be loaded dynamically here -->
      </div>
    </div>
  </div>

  <!-- Load D3.js v7 library -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!-- Load Leaflet library -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <!-- Load the el_map_logic.js script using a relative path -->
  <script src="http://127.0.0.1:5500/Resources/EL/el_map_logic.js"></script>

<script>
  // Function to load the selected chart
  function loadChart(chartFileName) {
    document.getElementById('chartContainer').innerHTML = `<iframe src="${chartFileName}" width="100%" height="600px"></iframe>`;
  }

  // Handle the link click event
  document.addEventListener('DOMContentLoaded', function() {
    // Load the initial chart on page load
    const initialChartLink = document.getElementById('propertyAnalysisLink');
    const initialChart = initialChartLink.href;
    loadChart(initialChart);

    // Add event listeners to each link
    const links = document.querySelectorAll('a');
    links.forEach(link => {
      link.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent default link behavior
        const chartFileName = this.href;
        loadChart(chartFileName);
      });
    });
  });
</script>

</body>

</html>
